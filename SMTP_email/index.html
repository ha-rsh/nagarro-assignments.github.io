<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7a846jG5u9PRX7f9qiYHMmRbVD4yxYXKqxQ&usqp=CAU">
    <title>SMTP email</title>
</head>
<body style="background:linear-gradient(90deg, hsla(305, 75%, 83%, 1) 0%, hsla(196, 83%, 84%, 1) 52%, hsla(64, 41%, 92%, 1) 100%);">
    <h1 id="heading" class="text-center p-5">SMTP Email </h1>
    <div class="container p-5 text-white" style="height: 30rem;background:url('https://images.pexels.com/photos/8715136/pexels-photo-8715136.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1') no-repeat center center / cover">
        <form onsubmit="sendMail(event)">
            <div class="mb-3">
                <label for="email" class="form-label">Email address</label>
                <input style="background:rgba(255, 255, 255, 0.2); color: white;" type="email" class="form-control" id="email">
            </div>
            <div class="mb-3">
                <label for="subject" class="form-label">Subject</label>
                <input style="background:rgba(255, 255, 255, 0.2); color: white;" type="subject" class="form-control" id="subject">
            </div>
            <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea style="background:rgba(255, 255, 255, 0.2); color: white;" class="form-control" id="message" rows="3"></textarea>
            </div>
            <button type="submit" class="btn btn-dark">Submit</button>
        </form>
    </div>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
      crossorigin="anonymous"/>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
        const email = document.getElementById("email");
        const subject = document.getElementById("subject");
        const message = document.getElementById("message");
        const heading = document.getElementById("heading");
            function sendMail(e){
                console.log(email.value);
                e.preventDefault();
                Email.send({
                            SecureToken : "40c82047-d95d-4c99-b38f-fce423170ed0",
                            To : "randompika123@gmail.com, "+email.value,
                            From : "randompika123@gmail.com",
                            Subject :subject.value,
                            Body : message.value
                        }).then(msg => {
                            heading.innerHTML = "Mail Sent successfully !!!";
                            email.value = "";
                            subject.value = "";
                            message.value = "";
                            setInterval(() => heading.innerHTML = "SMTP Email", 3000); 
                        }
                        ).catch((err) => console.log(err));
            }
    </script>
</body>
</html>